<odoo>
    <record id="view_quality_assurance_tree" model="ir.ui.view">
        <field name="name">quality.assurance.tree</field>
        <field name="model">quality.assurance</field>
        <field name="arch" type="xml">
       

            <tree>
                <field name="product_id" />
                <field name="stage_id" />
                <field name="pass_field" />
            </tree>
        </field>
    </record>

    <record id="view_quality_assurance_form" model="ir.ui.view">
        <field name="name">quality.assurance.form</field>
        <field name="model">quality.assurance</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="not_tested" invisible="1" />
                    <button name="mark_failed" string="Mark Failed" type="object"
                        class="oe_highlight" invisible ="not_tested == False" />
                </header>
                <sheet>
                    <group>
                        <field name="product_id" readonly="1" />
                        <field name="stage_id" readonly="1" />
                        <field name="production_id" readonly="1" />
                        <field name="pass_field" readonly="1" />
                        <field name="description"  />
                    </group>
                    <notebook>
                        <page string="Test Instances">
                            <field name="test_instance_ids">
                                <tree editable="bottom">
                                    <field name="check_field" readonly="1" />
                                    <field name="min_threshold" readonly="1" />
                                    <field name="max_threshold" readonly="1" />
                                    <field name="test_value" />
                                    <field name="pass_field" readonly="1" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
        <record id="view_quality_assurance_kanban" model="ir.ui.view">
            <field name="name">quality.assurance.kanban</field>
            <field name="model">quality.assurance</field>
            <field name="arch" type="xml">
                <kanban default_group_by="stage_id">
                    <field name="product_id" />
                    <field name="stage_id" />
                    <field name="pass_field" />
                    <field name="production_id" />

                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click o_kanban_card">
                                <div class="oe_kanban_details">
                                    <strong>
                                        <field name="product_id" />
                                    </strong>
                                    <field name="is_external" invisible="1" />
                                    <div class="bg-warning p-2"
                                        style="border-radius:3px; width:fit-content;"
                                        invisible="is_external == False">
                                        Is External
                                    </div>
                                    <div> Stage: <field name="stage_id" />
                                    </div>
                                    <div> Pass/Fail: <t
                                            t-esc="record.pass_field.raw_value and 'Pass' or 'Fail'" />
                                    </div>
                                    <div> Production: <field name="production_id" />
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>


                </kanban>
            </field>
        </record>
  

    <record id="action_quality_assurance" model="ir.actions.act_window">
        <field name="name">Quality Assurance</field>
        <field name="res_model">quality.assurance</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <menuitem id="menu_quality_assurance" name="Quality Assurance"
        parent="menu_quality_root"
        action="action_quality_assurance" />


</odoo>