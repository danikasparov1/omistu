<odoo>
	<template id="report_quality_external_test" name="External Test Report">
		<t t-call="web.html_container">
			<t t-call="web.external_layout">
				<t t-foreach="docs" t-as="doc">
					<div class="page">
						<h2 class="text-center mb-2">
							<u>External Quality Test Report</u>
						</h2>
						<p>
							<strong>
								
							
							<span t-esc="doc.name" />
							</strong>
						</p>
						
						<p>
							<strong>
								Customer:
							</strong>
							<span t-esc="doc.customer" />
						</p>
						<p>
							<strong>
								Date:
							</strong>
							<span t-esc="time.strftime('%Y-%m-%d')" />
						</p>
						<div class="row">
							<div class="col-10">
								
								<table class="table table-bordered">
									<thead>
										<tr>
											<!-- Counter Header -->
											<th>
												#
											</th>
											<th>
												Field
											</th>
											<th>
												Stage
											</th>
											<th colspan="3">
												Values
											</th>
										</tr>
										<tr>
											<th>
											</th>
											<th>
											</th>
											<th>
											</th>
											<th>
												Min
											</th>
											<th>
												Max
											</th>
											<th>
												Test
											</th>
										</tr>
									</thead>
									<tbody>
										<t t-set="counter" t-value="1" />
										<t t-foreach="doc.related_tests.test_instance_ids" t-as="test_instance">
											<t t-foreach="test_instance.check_field" t-as="field">
												<tr>
													<!-- Counter -->
													<td>
														<t t-esc="counter" />
													</td>
													<!-- Check Field Name -->
													<td>
														<t t-esc="field.name" />
													</td>
													<td>
														<t t-esc="field.stage_id.name" />
													</td>
													<!-- Min, Max, Test Values -->
													<td>
														<t t-esc="test_instance.min_threshold" />
													</td>
													<td>
														<t t-esc="test_instance.max_threshold" />
													</td>
													<td>
														<t t-esc="test_instance.test_value" />
													</td>
												</tr>
											</t>
											<t t-set="counter" t-value="counter + 1" />
										</t>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</t>
			</t>
		</t>
	</template>
	<report id="action_report_quality_external_test" model="quality.external.test" string="External Test Report" report_type="qweb-pdf" name="quality.report_quality_external_test" file="quality.report_quality_external_test" attachment_use="False" />
</odoo>
